
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kohana Basics - Kohana 3 Development</title>
  <meta name="author" content="Samnan ur Rehman">

  
  <meta name="description" content="Kohana Basics Dec 19th, 2014 5:00 pm Before you begin writing code for your application, you need to know some specifics about Kohana 3 so that you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://samnan.github.io/ko3docs/application/basics">
  <link href="/ko3docs/favicon.png" rel="icon">
  <link href="/ko3docs/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/ko3docs/atom.xml" rel="alternate" title="Kohana 3 Development" type="application/atom+xml">
  <script src="/ko3docs/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/ko3docs/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/ko3docs/">Kohana 3 Development</a></h1>
  
    <h2>Application developer guide</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/ko3docs/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:samnan.github.io/ko3docs" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<!--ul class="main-navigation">
  <li><a href=""></a></li>
</ul-->

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Kohana Basics</h1>
    <p class="meta">




<time class='entry-date' datetime='2014-12-19T17:00:00+05:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:00 pm</span></time></p>
  </header>
  
  <p>Before you begin writing code for your application, you need to know some specifics about Kohana 3 so that you can utilize the framework to your advantage.</p>

<ul>
<li><p><strong>Routes:</strong> Routes are one of the strongest suite of KO3. Every application must have one route (which is defined in <code>application/bootstrap.php</code> for you). Apart from that, you can create specific routes for different parts of the application. Routes will be dealt in details later on, so for now you can safely continue building your application with just the default route.</p></li>
<li><p><strong>Transparent Extension:</strong> Another cool feature of KO3 is the ability to allow extending the core functionality with minimum fuss. We will take a look at this later also, when we develop our sample application.</p></li>
<li><p><strong>HMVC: </strong>HMVC is the ability to use any request in the application internally in a clean manner. Again, we will use this later on to show you how to use Kohana requests internally to your advantage.</p></li>
</ul>


<h3>MVC architecture</h3>

<p>Just like any other MVC framework, every request in Kohana is handled by a controller, which can utilize models and views to generate the desired output for the web application. A sample controller is provided with the Kohana installation, so you can use it as a starting point.</p>

<h3>Creating your first controller</h3>

<p>In the application folder in a default Kohana installation, you will find one controller named Welcome.php. For our application, we want our homepage controller to be called Home, so we make that change by following these steps:</p>

<ul>
<li><p>change the <code>default</code> route right at the end in <code>application/bootstrap.php</code> to use Home controller instead of Welcome controller.</p>

<pre><code>  Route::set('default', '(&lt;controller&gt;(/&lt;action&gt;(/&lt;id&gt;)))')
      -&gt;defaults(array(
          'controller' =&gt; 'home',  // change from welcome to home
          'action'     =&gt; 'index',
  ));
</code></pre></li>
<li><p>Rename Welcome.php to Home.php in the <code>application/classes/Controllers</code> folder.</p></li>
<li><p>Edit Home.php, and change the name of the controller class to Controller_Home, so that the code becomes:</p>

<pre><code>  &lt;?php defined('SYSPATH') or die('No direct script access.');

  class Controller_Home extends Controller {

      public function action_index()
      {
          $this-&gt;response-&gt;body('hello, world!');
      }

  } // End Home
</code></pre></li>
</ul>


<p>You will notice that there is no php end tag at the end of the file, instead just a comment. The end tag is optional which is a php feature, and the comment is a Kohana convention and completely optional, so you remove it if you like. We have left it here and just changed it to match the controller name so that we know it is the end of the controller code.</p>

<h3>Using a View class</h3>

<p>As you can see, our homepage just outputs a classic greeting instead of doing something really useful. We are going to change that to utilize a View and output a nice html code for a start. To do that, first create a file called &lsquo;home.php&rsquo; inside <code>application/view</code> folder. Put the following simple HTML code in the home.php file.</p>

<pre><code>    &lt;h1&gt;Welcome to Kohana 3&lt;/h1&gt;
    &lt;p&gt;This is the homepage&lt;/p&gt;
    &lt;p&gt;The view file for the homepage is located at &lt;?php echo $file; ?&gt;&lt;/p&gt;
</code></pre>

<p><em>Please note that the name of the view file need not be the same as controller. You can name it whatever you like.</em></p>

<h3>Using the view in a controller</h3>

<p>Now that we have created the view file, we will change our controller code to use the view as our output. You will also see that we will pass a <code>file</code> parameter to the view, which is then displayed on the page. Change the code inside <code>application/classes/Controller/home.php</code> as below:</p>

<pre><code>    class Controller_Home extends Controller {

        public function action_index()
        {
            $file = Kohana::find_file('views', 'home');
            $view = View::factory('home', array('file' =&gt; $file));
            $this-&gt;response-&gt;body($view);
        }

    } // End Home
</code></pre>

<p><em>Kohana::find_files() is a very useful core method of Kohana, which returns the final path to a file given its folder and filename. You can refer to the documentation for more information.</em></p>

<h3>Passing data to views</h3>

<p>You can pass data to the view by including an array of key value pairs in the <code>View::factory()</code> method call as shown above. If you wish to add data for your view after creating it, then you can use either &lsquo;set&rsquo; or &lsquo;bind&rsquo; method call as given in the followin example.</p>

<pre><code>        $first = 'first';
        $second = 'second';
        $view = View::factory('home', array('first' =&gt; $first));

        $view-&gt;set('second', $second);

        $view-&gt;bind('third', $third);
        $third = MyClass::get_data();  // for example

        $this-&gt;response-&gt;body($view);
</code></pre>

<p>The difference between &lsquo;set&rsquo; and &lsquo;bind&rsquo; is that set passes the variable to the view by value, while &lsquo;bind&rsquo; passes it by reference. You will also note that we used &lsquo;bind&rsquo; on the view first, then modified the value of the variable after &lsquo;bind&rsquo; call. It is done explicitly to explain the passing by reference of the &lsquo;third&rsquo; variable to the view.</p>

<p>In the next section, we will learn how to <a href="/ko3docs/application/models">create models</a> to use a database in our application.</p>

  
    <footer>
      <p class="meta">
        
        




<time class='entry-date' datetime='2014-12-19T17:00:00+05:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:00 pm</span></time>
        
      </p>
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://samnan.github.io/ko3docs/application/basics/index.html" data-via="" data-counturl="http://samnan.github.io/ko3docs/application/basics/index.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Navigation</h1>
  <ul id="recent_posts">
     <li class="post"><a href="/ko3docs/installation">Installation</a></li>
     <li class="post"><a href="/ko3docs/kohana-configuration">Configuration</a></li>
     <li class="post"><a href="/ko3docs/first-run">Running your application</a></li>
     <li class="post"><a href="/ko3docs/configuration/modules">Configuring Modules</a></li>
     <li class="post"><a href="/ko3docs/application/basics">Application Basics</a></li>
     <li class="post"><a href="/ko3docs/application/models">Creating Models</a></li>
     <li class="post"><a href="/ko3docs/application/data-manipulation">Common Database Operations</a></li>
     <li class="post"><a href="/ko3docs/application/how-tos">Mostly Used Stuff</a></li>
     <li class="post"><a href="/ko3docs/application/routes">Creating Routes</a></li>
     <li class="post"><a href="/ko3docs/application/hmvc">HMVC requests</a></li>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Samnan ur Rehman -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
